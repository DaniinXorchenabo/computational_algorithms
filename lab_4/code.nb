

function[x_] := Log[x] - 1 / (x + 1);

getRootIntervals[a_, b_, n_, eps_] := (
    Xes = {};
    Ys = {};
    h = (b - a) / n;
    For[
        i = -1,
        i <= n,
        i++;
        Xes = Append[Xes, a + i * h];
        Ys = Append[Ys, function[If[
            Xes[[-1]] == 0,
            0.0000000000001,
            Xes[[-1]]
            ]]]
    ];

    rootIntervals = {};

    For[
        i = 0,
        i <= n,
        i++;
        If[
            Ys[[i]]*Ys[[i + 1]] < 0,
            rootIntervals = Append[rootIntervals, {Xes[[i]], Xes[[i + 1]]}],
            0
        ]
    ];

    For[
        i = 0,
        i <= n + 1,
        i++;
        Ys[[i]] = N[Ys[[i]], 20]
    ];
    rootIntervals

);

rootCorrectionAs2Division[beginOld_, endOld_, eps_] := (
    begin = beginOld;
    end = endOld;
    x0 = begin;
    For[
        i = 0,
        (Abs[end - begin] > eps) && (function[x0] != 0) ,
        x0 = (begin + end) / 2;
        If[
            function[begin] * function[x0] < 0,
            end = x0,
            begin = x0
        ]
    ];
    N[x0, 20]


);

getAllRoots[a ,b, n, eps] := (
    IntervalsMatrix = getRootIntervals[a ,b, n, eps];
    roots = {};
    For[
        j = 0,
        j < Length[IntervalsMatrix],
        j++;
        res = rootCorrectionAs2Division[1, 2 ,eps];
        roots = Append[roots, res]
    ];
    roots

);


resultMatrix = getAllRoots[a ,b, n, eps];
resultMatrix


